local Players = game:GetService("Players")
local player = Players.LocalPlayer
local pgui = player:WaitForChild("PlayerGui")

-- Target Panel
local panel = pgui:WaitForChild("ExtraUI"):WaitForChild("AdminPanel")
panel.Transparency = 0.1
panel.Visible = false -- Default OFF

-- MAIN GUI
local gui = Instance.new("ScreenGui")
gui.Name = "MonsyAdminToggle"
gui.ResetOnSpawn = false
gui.Parent = pgui

-- MAIN FRAME
local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 230, 0, 140)
frame.Position = UDim2.new(0.05, 0, 0.2, 0)
frame.BackgroundColor3 = Color3.fromRGB(0,0,0)
frame.BorderSizePixel = 0
frame.Parent = gui

-- Rounded Corners
local corner = Instance.new("UICorner", frame)
corner.CornerRadius = UDim.new(0, 12)

-- Soft outline
local stroke = Instance.new("UIStroke", frame)
stroke.Color = Color3.fromRGB(30,30,30)
stroke.Thickness = 2

-- Drop Shadow effect
local shadow = Instance.new("ImageLabel", frame)
shadow.ZIndex = -1
shadow.AnchorPoint = Vector2.new(0.5,0.5)
shadow.Position = UDim2.new(0.5,0,0.5,0)
shadow.Size = UDim2.new(1,20,1,20)
shadow.Image = "rbxassetid://6015897843"
shadow.ImageColor3 = Color3.fromRGB(0,0,0)
shadow.ImageTransparency = 0.4
shadow.BackgroundTransparency = 1

-- Title Text
local title = Instance.new("TextLabel")
title.Size = UDim2.new(1,0,0,40)
title.Text = "MONSY"
title.BackgroundTransparency = 1
title.Font = Enum.Font.GothamBold
title.TextColor3 = Color3.fromRGB(255,255,255)
title.TextSize = 22
title.Parent = frame

-- ADMIN BUTTON
local btn = Instance.new("TextButton")
btn.Size = UDim2.new(0,180,0,45)
btn.Position = UDim2.new(0.5, -90, 0.5, -5)
btn.BackgroundColor3 = Color3.fromRGB(0,0,0)
btn.BorderSizePixel = 0
btn.Text = "ADMIN: OFF"
btn.TextColor3 = Color3.fromRGB(255,255,255)
btn.Font = Enum.Font.GothamSemibold
btn.TextSize = 19
btn.Parent = frame

local btnCorner = Instance.new("UICorner", btn)
btnCorner.CornerRadius = UDim.new(0, 10)

-- Button highlight hover effect
btn.MouseEnter:Connect(function()
	btn.BackgroundColor3 = Color3.fromRGB(15,15,15)
end)
btn.MouseLeave:Connect(function()
	btn.BackgroundColor3 = Color3.fromRGB(0,0,0)
end)

-- Toggle
local state = false
btn.MouseButton1Click:Connect(function()
	state = not state
	panel.Visible = state
	btn.Text = state and "ADMIN: ON" or "ADMIN: OFF"
end)

-- DRAGGING SYSTEM
local UserInputService = game:GetService("UserInputService")
local dragging, dragInput, dragStart, startPos

local function update(input)
	local delta = input.Position - dragStart
	frame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
end

frame.InputBegan:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 then
		dragging = true
		dragStart = input.Position
		startPos = frame.Position

		input.Changed:Connect(function()
			if input.UserInputState == Enum.UserInputState.End then
				dragging = false
			end
		end)
	end
end)

frame.InputChanged:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseMovement then
		dragInput = input
	end
end)

UserInputService.InputChanged:Connect(function(input)
	if input == dragInput and dragging then
		update(input)
	end
end)
